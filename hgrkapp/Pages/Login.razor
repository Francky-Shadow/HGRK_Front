@page "/authentication"
@layout AuthLayout
@inject hgrkapp.DTO.User user
@inject hgrkapp.Repository.IServices.IAuthenticationService AuthService
@inject NavigationManager NavigationManager
 <div class="form-group">
   <input type="text" class="form-control form-control-lg" @bind="user.Username" placeholder="Nom d'utilisateur">
 </div>
              
 <div class="form-group">
   <input type="password" class="form-control form-control-lg" id="exampleInputPassword1" @bind="user.Password" placeholder="Mot de passe">
 </div>

 <div class="mt-3">
   <a class="btn btn-block btn-primary btn-lg font-weight-medium auth-form-btn" @onclick="HandleLogin">Se connecter</a>
 </div>

@code{
    private async Task HandleLogin()
    {
        var data = await AuthService.Login(user);
         if (data!=null)
        {
            NavigationManager.NavigateTo("/");
        }
    }
}